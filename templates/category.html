<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>選択ガチャ - {{ category_name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <h1>{{ category_name }}</h1>

    <div id="optionsContainer"></div>

    <br>
    <input type="text" id="customOptionInput" placeholder="選択肢を追加" />
    <button type="button" id="addOptionBtn">追加</button>

    <br><br>

    <form id="gachaForm">
        <button type="submit">ガチャを回す！</button>
    </form>

    <br><br>
    <a href="{{ url_for('index') }}">← ジャンル選択に戻る</a>

    <div id="resultArea"></div>

    <!-- Flaskから渡されたデータをJSに -->
    <script>
        const categories = {};
        categories["{{ category }}"] = {{ options|tojson }};
        let currentCategory = "{{ category }}";
    </script>

    <!-- JSファイルを読み込み -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
`
    <!-- 初期レンダリング呼び出し -->
    <script>
        renderOptions();
    </script>
</body>
</html>
